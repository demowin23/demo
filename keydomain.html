<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Key Extractor & Domain Adder</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 15px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        font-weight: 300;
      }

      .header p {
        font-size: 1.1em;
        opacity: 0.9;
      }

      .content {
        padding: 40px;
      }

      .input-section {
        margin-bottom: 30px;
      }

      .input-group {
        margin-bottom: 25px;
      }

      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #333;
        font-size: 1.1em;
      }

      textarea,
      input[type="text"] {
        width: 100%;
        padding: 15px;
        border: 2px solid #e1e5e9;
        border-radius: 10px;
        font-size: 14px;
        font-family: "Courier New", monospace;
        transition: all 0.3s ease;
        resize: vertical;
      }

      textarea:focus,
      input[type="text"]:focus {
        outline: none;
        border-color: #4facfe;
        box-shadow: 0 0 0 3px rgba(79, 172, 254, 0.1);
      }

      textarea {
        min-height: 200px;
      }

      .button-group {
        display: flex;
        gap: 15px;
        margin-bottom: 30px;
        flex-wrap: wrap;
      }

      button {
        padding: 15px 30px;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        flex: 1;
        min-width: 150px;
      }

      .btn-primary {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(79, 172, 254, 0.3);
      }

      .btn-secondary {
        background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        color: #333;
      }

      .btn-secondary:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(168, 237, 234, 0.3);
      }

      .btn-success {
        background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);
        color: white;
      }

      .btn-success:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(86, 171, 47, 0.3);
      }

      .result-section {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 25px;
        margin-top: 20px;
      }

      .result-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .result-header h3 {
        color: #333;
        font-size: 1.3em;
      }

      .stats {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .stat-item {
        background: white;
        padding: 15px 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        text-align: center;
        min-width: 120px;
      }

      .stat-number {
        font-size: 1.5em;
        font-weight: bold;
        color: #4facfe;
      }

      .stat-label {
        font-size: 0.9em;
        color: #666;
        margin-top: 5px;
      }

      .result-output {
        background: white;
        border: 2px solid #e1e5e9;
        border-radius: 10px;
        padding: 20px;
        font-family: "Courier New", monospace;
        font-size: 14px;
        line-height: 1.6;
        max-height: 400px;
        overflow-y: auto;
        white-space: pre-wrap;
        word-break: break-all;
      }

      .copy-notification {
        position: fixed;
        top: 20px;
        right: 20px;
        background: #4facfe;
        color: white;
        padding: 15px 25px;
        border-radius: 10px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        transform: translateX(400px);
        transition: transform 0.3s ease;
        z-index: 1000;
      }

      .copy-notification.show {
        transform: translateX(0);
      }

      @media (max-width: 768px) {
        .content {
          padding: 20px;
        }

        .button-group {
          flex-direction: column;
        }

        .stats {
          flex-direction: column;
        }

        .header h1 {
          font-size: 2em;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üîë Key Extractor & Domain Adder</h1>
        <p>T√°ch key t·ª´ list v√† th√™m ƒëu√¥i domain</p>
      </div>

      <div class="content">
        <div class="input-section">
          <div class="input-group">
            <label for="keyInput"
              >üìù Nh·∫≠p list key (m·ªói d√≤ng m·ªôt key, c√≥ th·ªÉ ch·ª©a d·∫•u .):</label
            >
            <textarea
              id="keyInput"
              placeholder="V√≠ d·ª•:
key1.subkey1
key2.subkey2.subkey3
key3
key4.subkey4"
            ></textarea>
          </div>

          <div class="input-group">
            <label for="domainInput">üåê Nh·∫≠p ƒëu√¥i domain (t√πy ch·ªçn):</label>
            <input
              type="text"
              id="domainInput"
              placeholder="V√≠ d·ª•: .com, .net, .org"
            />
          </div>
        </div>

        <div class="button-group">
          <button class="btn-primary" onclick="extractKeys()">
            üîç T√°ch Key
          </button>
          <button class="btn-secondary" onclick="clearAll()">
            üóëÔ∏è X√≥a T·∫•t C·∫£
          </button>
          <button
            class="btn-success"
            onclick="copyResult()"
            id="copyBtn"
            disabled
          >
            üìã Copy K·∫øt Qu·∫£
          </button>
        </div>

        <div class="result-section" id="resultSection" style="display: none">
          <div class="result-header">
            <h3>üìä K·∫øt Qu·∫£</h3>
          </div>

          <div class="stats">
            <div class="stat-item">
              <div class="stat-number" id="totalKeys">0</div>
              <div class="stat-label">T·ªïng Key</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" id="uniqueKeys">0</div>
              <div class="stat-label">Key Unique</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" id="duplicateKeys">0</div>
              <div class="stat-label">Key Tr√πng</div>
            </div>
          </div>

          <div class="result-output" id="resultOutput"></div>
        </div>
      </div>
    </div>

    <div class="copy-notification" id="copyNotification">
      ‚úÖ ƒê√£ copy v√†o clipboard!
    </div>

    <script>
      let extractedKeys = [];
      let resultText = "";

      function extractKeys() {
        const keyInput = document.getElementById("keyInput").value.trim();
        const domainInput = document.getElementById("domainInput").value.trim();

        if (!keyInput) {
          alert("Vui l√≤ng nh·∫≠p list key!");
          return;
        }

        // T√°ch key t·ª´ input
        const lines = keyInput.split("\n");
        const allKeys = [];

        lines.forEach((line) => {
          const trimmedLine = line.trim();
          if (trimmedLine) {
            // T√°ch key theo d·∫•u . v√† l·ªçc b·ªè empty
            const keys = trimmedLine
              .split(".")
              .filter((key) => key.trim() !== "");
            allKeys.push(...keys);
          }
        });

        // Lo·∫°i b·ªè tr√πng l·∫∑p v√† s·∫Øp x·∫øp
        const uniqueKeys = [...new Set(allKeys)].sort();

        // Th√™m domain n·∫øu c√≥
        const finalKeys = uniqueKeys.map((key) => {
          return domainInput ? key + domainInput : key;
        });

        extractedKeys = finalKeys;
        resultText = finalKeys.join("\n");

        // Hi·ªÉn th·ªã k·∫øt qu·∫£
        displayResult(
          allKeys.length,
          uniqueKeys.length,
          allKeys.length - uniqueKeys.length
        );
      }

      function displayResult(totalKeys, uniqueKeys, duplicateKeys) {
        document.getElementById("totalKeys").textContent = totalKeys;
        document.getElementById("uniqueKeys").textContent = uniqueKeys;
        document.getElementById("duplicateKeys").textContent = duplicateKeys;
        document.getElementById("resultOutput").textContent = resultText;
        document.getElementById("resultSection").style.display = "block";
        document.getElementById("copyBtn").disabled = false;

        // Scroll to result
        document.getElementById("resultSection").scrollIntoView({
          behavior: "smooth",
        });
      }

      function copyResult() {
        if (!resultText) {
          alert("Kh√¥ng c√≥ k·∫øt qu·∫£ ƒë·ªÉ copy!");
          return;
        }

        navigator.clipboard
          .writeText(resultText)
          .then(() => {
            showCopyNotification();
          })
          .catch((err) => {
            // Fallback for older browsers
            const textArea = document.createElement("textarea");
            textArea.value = resultText;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand("copy");
            document.body.removeChild(textArea);
            showCopyNotification();
          });
      }

      function showCopyNotification() {
        const notification = document.getElementById("copyNotification");
        notification.classList.add("show");
        setTimeout(() => {
          notification.classList.remove("show");
        }, 2000);
      }

      function clearAll() {
        document.getElementById("keyInput").value = "";
        document.getElementById("domainInput").value = "";
        document.getElementById("resultSection").style.display = "none";
        document.getElementById("copyBtn").disabled = true;
        extractedKeys = [];
        resultText = "";
      }

      // Auto-resize textarea
      document
        .getElementById("keyInput")
        .addEventListener("input", function () {
          this.style.height = "auto";
          this.style.height = this.scrollHeight + "px";
        });

      // Enter key support for domain input
      document
        .getElementById("domainInput")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            extractKeys();
          }
        });
    </script>
  </body>
</html>
